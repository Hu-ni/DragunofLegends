# 드라군의 전설

<img width="100%" height="auto" alt="Logo" src="https://github.com/user-attachments/assets/8038bda3-9058-4c36-b441-135650e47d05" />

궁수의 전설(Archero)에서 영감을 받아 제작한 Unity 기반의 2D 탑다운 슈팅 액션 게임입니다. 간단한 조작과 반복적인 전투 속에서도 다양한 무기와 전략적 조합 요소를 더해 리플레이성과 몰입도를 높이는 것을 목표로 개발했습니다.

---

## 📌 프로젝트 개요

### 🎯 제작 배경

- **직관적인 구조에서 출발**  
  - '궁수의 전설'은 2D 탑다운 뷰, 간단한 조작, 반복되는 게임 루프가 특징이며, 기능별로 분리하여 설계 및 구현 연습하기에 적합한 구조라고 판단했습니다.
  
- **레벨업 기반의 성장 시스템**  
  - 단순 반복 플레이에 무기 조합과 진화 요소를 추가해, 플레이어의 선택에 따라 전략을 짤 수 있도록 했습니다.
  - 매 레벨업마다 무기나 강화 요소를 선택할 수 있어 **리플레이성**과 **선택의 재미**를 중심으로 기획하였습니다.

---

## 🎥 게임 시연


---

## 🔧 핵심 시스템

### 🎮 스테이지 시스템

- 일정 시간 혹은 몬스터 처치 수를 기준으로 스테이지가 클리어됩니다.
- 각 스테이지는 고유한 웨이브 정보를 보유하며, 오브젝트 풀링과 코루틴을 활용해 웨이브를 구성합니다.
- 스테이지 종료 시 포탈이 등장하여 다음 스테이지로 자연스럽게 이어지도록 설계되었습니다.

### 👾 몬스터 및 보스 시스템

- 다양한 이동 패턴과 체력을 가진 일반 몬스터와, 패턴 공격을 수행하는 보스를 구현하였습니다.
- 경로 기반 AI는 **NavMeshPlus**를 통해 2D 환경에서도 자연스러운 경로 탐색이 가능하도록 구성하였습니다.

### 🛌 휴식 시스템

- 일정 스테이지마다 등장하는 ‘**휴식 스테이지**’를 통해 체력을 회복하거나 강화 보상을 제공합니다.
- 팝업 UI를 통해 보상을 선택하면 자동으로 종료되고, 다음 스테이지로 넘어갑니다.

### 🔫 무기 시스템 (직선, 범위, 추적 타입)

- 무기는 공격 타입에 따라 **발사 방향**, **타격 방식**, **효과 범위**가 달라집니다.
- 무기 데이터는 **ScriptableObject**로 관리되어 유연한 밸런스 조정과 확장이 가능합니다.
- 추적 무기는 타겟 탐색 알고리즘을 통해 가장 가까운 적을 자동으로 추적하여 공격합니다.

### ⬆️ 레벨업 및 무기 진화 시스템

- 몬스터 처치 시 드롭되는 **경험치 구슬**을 획득하여 경험치를 누적합니다.
- 일정 수치에 도달하면 레벨업 팝업이 등장하고, 무기 강화 혹은 신규 무기를 선택할 수 있습니다.
- 레벨업 공식은 `10 * (level^1.5)` 형태로, 레벨이 오를수록 점진적인 성장 곡선을 형성하여 밸런스를 유지합니다.


---

## 🧩 트러블슈팅

### 1. 포탈 미생성 문제

- **문제상황**: 웨이브 클리어 시 포탈이 간헐적으로 생성되지 않음  
- **원인**: 몬스터 생성 후 1초 대기 중 처치될 경우, 클리어 체크가 정상적으로 작동하지 않음  
- **해결**: 웨이브가 완전히 종료된 이후(1초 대기 후)에 클리어 플래그를 활성화하도록 수정

### 2. 팝업 UI의 Sort Order 충돌 문제

- **문제상황**: 여러 UI가 팝업으로 띄워질 때 정렬 순서(Sort Order) 충돌  
- **원인**: UI를 전역적으로 관리하고 정렬하는 객체 부재  
- **해결**: `UIManager`를 별도로 제작하고, Stack 자료구조를 이용한 LIFO 방식으로 팝업 UI를 관리

---

## 👥 팀원 및 역할

| 이름     | 역할 |
|----------|------|
| **박훈**   | NavMesh 타일맵 제작, 스테이지 & 몬스터 풀링 시스템 구현 |
| **박상현** | 무기 시스템 구현 |
| **유형준** | 플레이어 조작, 자동 공격 시스템, 애니메이션 구현 |
| **정대성** | UIManager 작성, 팝업 UI 및 전체 UI 시스템 구현, 일부 무기 구현 |
| **정희찬** | 몬스터 및 보스 프리팹 제작, NavMesh 이동 적용 |

---

## 💬 프로젝트 소감

> ### 박상현  
> 내가 좀 더 잘 했다면이 절실하게 느껴지는 파트였다. 게임 제작에서 한 파트를 담당한다는 것이 얼마나 중요한 일인지 몸소 알게 되었고, 내가 아직 1인분 노릇을 하기엔 많이 멀었구나라는 생각이 들었다.

> ### 박훈  
> 시작할 때 설계를 자세하게 했던 점은 좋았지만, 실제 프로젝트 기간을 고려하지 않은 점은 아쉬웠다. 이번 경험을 통해 프로젝트 기획에 어떤 요소가 고려되어야 하는지 다시금 알게 되었고, 다음엔 더 잘할 수 있을 것 같다.

> ### 유형준  
> 지난 팀 프로젝트와 다르게 이번 프로젝트는 갑자기 난이도가 급상승해 내가 맡은 파트를 끝내기도 힘들었다. 자기 파트뿐만 아니라 다른 사람들의 파트까지 도와준 팀원들이 대단하다고 느끼는 한편, 본인의 지식/실력 부족을 다시금 느끼는 프로젝트였다.

> ### 정대성  
> 전체적으로 시간이 부족했던 프로젝트였다. 개인적으로는 스플래시 화면에서 비동기 로딩, 팀원들이 작업한 씬들을 하나의 레벨로 합쳐 관리하는 씬 매니저를 작성하고 싶었지만, 시간 부족으로 시도하지 못한 점이 아쉽다. 하지만 UIManager의 필요성을 인식하고, 플레이어와 무기를 분리 설계한 점은 좋은 시도였다.

> ### 정희찬  
> 몬스터와 보스의 패턴을 만들고 적용한 것이 가장 보람 있었다. NavMesh를 활용해 복잡한 환경에서도 플레이어를 잘 추적하는 기능을 적용한 점도 만족스러웠다. 다만 당시 실력 부족으로 많은 시간을 허비한 것이 아쉬웠고, 기획했던 기능들을 다 구현하지 못해 아쉬움이 크다.

---

## 🛠 개발 환경

- **Unity 버전**: 2022.3.17f1 (LTS)
- **플랫폼**: PC, Windows
- **언어**: C#

---

## 📂 프로젝트 구조

- `GameManager`, `UIManager` 등 싱글톤 기반의 매니저 구조로 관리
- `Object Pooling`을 통해 반복 생성되는 오브젝트(스테이지, 몬스터 등) 성능 최적화
- NavMesh 기반의 경로 탐색과 AI 이동 설계
- Script 기반 무기 시스템 및 성장(레벨업) 구조

---

## 🔮 향후 개선 방향

- 씬 통합 관리 매니저 및 비동기 로딩 구현
- 무기 진화 시스템 확장
- 보스 패턴 다양화
- 난이도 및 웨이브 시스템 튜닝
- 전체 게임 UI 리팩토링 및 사용자 경험 개선
